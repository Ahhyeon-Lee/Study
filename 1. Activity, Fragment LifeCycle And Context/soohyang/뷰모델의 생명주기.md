# 뷰모델의 생명주기

생성일시: December 18, 2021 7:41 PM
채널: Note, study
카테고리: android

생성한 뷰모델 캑체는 액티비티 스코프 내에서 싱글턴으로 유지 됨.

```
하나의 액티비티 객체 내에서 하나의 뷰모델을 여러 번 생성하더라도 한 번만 생성됩니다. 물론, 액티비티 객체가 여러 개라면 하나의 뷰모델 클래스더라도 객체는 여러 개 생성됩니다. 뷰모델은 화면이 아닌 업무처리를 목적으로 하는 곳이므로 하나의 액티비티에서 하나의 뷰모델 객체만 생성해서 이용하는 것이 이치에 맞을 것 같습니다.
```

ViewModelProviders.of(this).get()에 의해 뷰모델 객체가 생성되면 액티비티의 화면 회전과 같은 상황에서도 뷰모델 객체는 소멸되지않고 유지. 데이터는 뷰모델에서 관리

액티비티가 종료되거나 프래그먼트가 분리되면 뷰모델 객체가 종료되고 onCleared 함수가 호출됨

Fragment에서 뷰모델을 이용하는 경우도 액티비티에서 뷰모델을 이용하는 경우와 동일

## AndroidViewModel 클래스 이용

ViewModel의 서브 클래스로 application 객체를 가지고 있어 application 객체나 context 객체를 쉽게 이용가능